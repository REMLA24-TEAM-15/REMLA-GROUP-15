schema: '2.0'
stages:
  train:
    cmd: python -m src.models.train
    deps:
    - path: datasets/processed_data/char_index.joblib
      hash: md5
      md5: 941dc7e5461b0a429941866a00102b8c
      size: 444
    - path: datasets/processed_data/ds_train.joblib
      hash: md5
      md5: b258bbbc3d8e91218ecb16597a2e5daa
      size: 844986538
    - path: datasets/processed_data/ds_val.joblib
      hash: md5
      md5: 6cbd4c903db06dd435a42943f8ca6d33
      size: 414124626
    - path: params.yaml
      hash: md5
      md5: d6cffa7303946c840816dde6a37e1f9c
      size: 325
    - path: src/models/model.py
      hash: md5
      md5: 024dac09754b0d1d640306fef94e95e3
      size: 1557
    - path: src/models/train.py
      hash: md5
      md5: 497746b192a50b39c9508b7e31556f66
      size: 1376
    params:
      params.yaml:
        batch_train: 5000
        categories:
        - phishing
        - legitimate
        dataset_dir: datasets/
        epoch: 1
        loss_function: binary_crossentropy
        optimizer: adam
    outs:
    - path: models/phishing_model.h5
      hash: md5
      md5: de4a2c3bc48f9a12edd1b58cd35e7d5e
      size: 5483016
  predict:
    cmd: python src/models/predict.py
    deps:
    - path: datasets/metrics/phishing_model.h5
      hash: md5
      md5: 80f8cc17c542e2f4a7d79ac02d45f7c6
      size: 5483016
    - path: datasets/processed_data/ds_test.joblib
      hash: md5
      md5: aa588736dd32d491eecdbdeae8680a8d
      size: 292816302
    - path: src/models/predict.py
      hash: md5
      md5: 361e47789faeb4fa4c81d8d100f6d6e6
      size: 831
    outs:
    - path: datasets/metrics/predictions.joblib
      hash: md5
      md5: 9ec4ee84094df3c9af25516b0b48bd61
      size: 2913950
  evaluate:
    cmd: python src/models/evaluate.py
    deps:
    - path: datasets/metrics/predictions.joblib
      hash: md5
      md5: 9ec4ee84094df3c9af25516b0b48bd61
      size: 2913950
    - path: src/models/evaluate.py
      hash: md5
      md5: 30e5ecd8355f21854466c3631fc6b62d
      size: 1569
    outs:
    - path: datasets/metrics/statistics.json
      hash: md5
      md5: 754b4ddbcf16a655e1bc8d2b37e50982
      size: 56
  get_data:
    cmd: python -m src.data.get_data
    deps:
    - path: src/data/get_data.py
      hash: md5
      md5: f2787b4fc28ef9c862539d22d267038f
      size: 680
    outs:
    - path: datasets/raw_data/DL Dataset/test.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    - path: datasets/raw_data/DL Dataset/train.txt
      hash: md5
      md5: 13fd241a41370119612d5b00b0433009
      size: 93921671
    - path: datasets/raw_data/DL Dataset/val.txt
      hash: md5
      md5: 7b1e28b1e91582c6f36e85517c3cc6ee
      size: 46258330
  data_prep:
    cmd: python -m src.data.data_prep
    deps:
    - path: datasets/raw_data/DL Dataset/test.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    - path: datasets/raw_data/DL Dataset/train.txt
      hash: md5
      md5: 13fd241a41370119612d5b00b0433009
      size: 93921671
    - path: datasets/raw_data/DL Dataset/val.txt
      hash: md5
      md5: 7b1e28b1e91582c6f36e85517c3cc6ee
      size: 46258330
    - path: src/data/data_prep.py
      hash: md5
      md5: 6b4fdc134aa774cf64d49d5281751b90
      size: 2498
    params:
      params.yaml:
        dataset_dir: datasets/
    outs:
    - path: datasets/processed_data/char_index.joblib
      hash: md5
      md5: 941dc7e5461b0a429941866a00102b8c
      size: 444
    - path: datasets/processed_data/ds_test.joblib
      hash: md5
      md5: aa588736dd32d491eecdbdeae8680a8d
      size: 292816302
    - path: datasets/processed_data/ds_train.joblib
      hash: md5
      md5: b258bbbc3d8e91218ecb16597a2e5daa
      size: 844986538
    - path: datasets/processed_data/ds_val.joblib
      hash: md5
      md5: 6cbd4c903db06dd435a42943f8ca6d33
      size: 414124626
  release:
    cmd: python src/release.py
    deps:
    - path: datasets/metrics/phishing_model.h5
      hash: md5
      md5: 80f8cc17c542e2f4a7d79ac02d45f7c6
      size: 5483016
    - path: datasets/processed_data/char_index.joblib
      hash: md5
      md5: 941dc7e5461b0a429941866a00102b8c
      size: 444
    params:
      params.yaml:
        version: 0.1.0
